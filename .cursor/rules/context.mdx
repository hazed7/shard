---
description: Project structure, build commands, and design system for Shard Launcher.
globs: **/*
---

# Shard Launcher - Cursor Rules

## Project Structure

- `/src/` - Core Rust library (profile management, store, mod APIs, launching)
- `/ui/` - Tauri 2 desktop app (React + TypeScript + custom CSS)
- `/ui/src-tauri/` - Tauri Rust backend (commands bridge to core library)

## Key Modules

### Rust (Core Library)
- `profile.rs` - Profile management
- `template.rs` - Profile templates (Fabric, Forge, etc.)
- `store.rs`, `content_store.rs`, `library.rs` - Content-addressed storage
- `modrinth.rs`, `curseforge.rs` - Mod platform APIs
- `minecraft.rs` - Version/library/asset downloads
- `ops.rs` - Launch operations
- `auth.rs`, `accounts.rs` - Microsoft authentication
- `skin.rs` - Skin management
- `java.rs` - Java runtime detection

### UI Components
- `Sidebar.tsx` - Navigation, profile selector with drag-and-drop folders
- `ProfileView.tsx` - Profile details, content management, launch
- `StoreView.tsx` - Modrinth/CurseForge mod browser
- `LibraryView.tsx` - Global content library
- `AccountView.tsx` - Account details, skin management
- `LogsView.tsx` - Live game log viewer
- `SkinViewer.tsx` - 3D skin renderer
- `PlatformIcon.tsx` - Platform icons (Modrinth/CurseForge/Local)

## Build Profiles (IMPORTANT)

Development prioritizes fast compilation over optimization. Use the appropriate profile:

| Profile | Command | Use Case |
|---------|---------|----------|
| `dev` | `cargo tauri dev` | Development, debugging (DEFAULT) |
| `dev-release` | `cargo tauri build --profile dev-release` | Testing builds (~30s) |
| `release` | `cargo tauri build --release` | Production only (~3-5min) |

**Always use `cargo tauri dev` for development iteration.**
**Never use `--release` unless explicitly building for production.**

## Commands

```bash
# Development (use this for iteration)
cd ui && cargo tauri dev

# Frontend only (no Tauri)
cd ui && bun run dev

# Core library check
cargo check

# Test build (faster than release)
cd ui && cargo tauri build --profile dev-release

# Production build (slow, only when needed)
cd ui && cargo tauri build --release
```

## Code Style

- Rust: Follow standard Rust conventions, use `anyhow` for errors
- TypeScript: Functional React components, TypeScript strict mode
- CSS: Custom CSS in `styles.css` with CSS variables (not Tailwind)

## Ignore Directories

Never read or modify files in:
- `**/target/`
- `**/node_modules/`
- `**/dist/`
- `**/.next/`

## UI Design System

The UI uses macOS-inspired glassmorphism:
- Warm dark palette defined in CSS `:root` variables
- Glassmorphism with `backdrop-filter: blur()` on elevated surfaces
- Accent colors: `--accent-primary` (cyan), `--accent-secondary` (amber)
- Border-radius scale: 4px (tiny), 6px (small), 8px (medium), 10px (standard), 12px (large)
- Text colors: `--text-primary`, `--text-secondary`, `--text-muted`
- Geist Sans/Mono fonts

## Sync Note

Keep aligned with `.claude/CLAUDE.md` and `.codex/CODEX.md`.
